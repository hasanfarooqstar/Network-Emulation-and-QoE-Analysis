<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaka Player Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.compiled.js"
        integrity="sha512-K0vnbY/0ZJ+TRetnq8EK9ge2au+MBu7L1gjfiJiQlpGOmPh/qlJudl7IA2cUmvlFmSQqlJ49+wr8aw3S1vb/yQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
    <h1>Network Emulation and QoE Analysis</h1>
    <video data-shaka-player class="teste" id="video" width="100%" height="100%"
        poster="//shaka-player-demo.appspot.com/assets/poster.jpg" autoplay controls>
        <source src="manifest.mpd" type="application/dash+xml" />
    </video>
    <script>
        async function initShakaPlayer() {
            // Get the video element
            const video = document.getElementById('video');

            // Create the Shaka Player instance
            const player = new shaka.Player(video);

            // Add it to the global window object for Puppeteer to access
            window.player = player;

            // Load the manifest file
            try {
                await player.load('manifest.mpd');
                console.log('Shaka Player loaded the manifest successfully.');
            } catch (error) {
                console.error('Error loading manifest:', error);
            }
        }

        // Initialize Shaka Player when the page loads
        document.addEventListener('DOMContentLoaded', initShakaPlayer);
    </script>
</body>

</html>